<!DOCTYPE html>
<html lang="sr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <title>Du≈°anov Zlatnik</title>
</head>

<body>
    <header>
        <div id="language-switcher">
            <a href="#" data-lang="sr">—õ–∏—Ä</a> |
            <a href="#" data-lang="sr-latin">lat</a> |
            <a href="#" data-lang="en">eng</a>
        </div>
        <h1>Du≈°anov Zlatnik</h1>
        <h2>~ digitalni zavet na≈°eg postojanja ~</h2>
    </header>

    <main class="container" role="main">
        <div id="rotating-wrapper">
            <img id="rotating-logo" src="pic/logo_500_tra.png" alt="Rotacioni logotip" />
        </div>

        <h3>Inspirisan slavom Du≈°anovog carstva i duhom srpske istorije,<br /> ovaj token slavi nezavisnost, tradiciju,
            narod</h3>

        <h2>üìú ≈†ta je Du≈°anov Zlatnik?</h2>
        <ul>
            <li>Nazvan po prvoj srpskoj zlatnoj valuti iz vremena <a href="docs/CarDusanSilni-latin.html"
                    class="bold-link">cara Du≈°ana Silnog</a></li>
            <li>Nije za trgovinu. Nije za profit. Ovo je digitalni zavet na≈°eg postojanja</li>
            <li>Iskovanih 11.000.000 Du≈°anovih Zlatnika ‚Äî po jedan za svakog Srbina, gde god da je u svetu</li>
            <li>Zlatnike neumorno ƒçuva prvi srpski digitalni vitez u riznici znanoj kao MetaMask. Do riznice mo≈æe≈° <a
                    href="docs/Uputstvo-latin.html" class="bold-link">ovim putem</a></li>
        </ul>

        <h2>ü™ô Koliko ko≈°ta?</h2>
        <ul>
            <li>Ako ≈æeli≈° da kupovinom zlatnika preuzme≈° deo bremena, cena zlatnika je stotinu srpskih dinara</li>
            <li>Ako ne mo≈æe≈° da ga priu≈°ti≈°, dobiƒáe≈° ga na dar, jer svakome po jedan pripada</li>
            <li>Cena je istorijska, a ne tr≈æi≈°na</li>
        </ul>

        <h2>üõ°Ô∏è ≈†ta sa zlatnikom?</h2>
        <ul>
            <li>Kada se sakupi dovoljan broj srpskih vitezova, sazvaƒáemo <a href="https://t.me/+27cw4oGMNiQ4N2Q0"
                    class="bold-link" target="_blank" rel="noopener noreferrer">zbor</a> o likvidnosti i dodavanju
                zlatnika na berzu</li>
            <li>Svakog meseca deo prihoda biƒáe, dokumentovano, usmeren za obnovu srpskih svetinja</li>
            <li>Svaki zlatnik, kupljen ili darovan, biƒáe obele≈æen na mapi bojom, kao simbol raspodele Du≈°anovog carstva
            </li>
        </ul>

        <img src="pic/svet_2.png" alt="Carstvo Du≈°anovo"
            style="max-width: 100%; height: auto; display: block; margin: 0 auto;">

        <div class="cta">
            <button id="buy" class="cta-mail">Kupovina zlatnika</button>
            <button id="giftButton" class="cta-mail">Zlatnik na dar</button>
        </div>

        <div class="social-icons">
            <a href="https://linkedin.com/company/dusanov-zlatnik" target="_blank" rel="noopener noreferrer"
                title="LinkedIn">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn"
                    title="LinkedIn">
            </a>
            <a href="https://www.instagram.com/dusanovzlatnik/" target="_blank" rel="noopener noreferrer"
                title="Instagram">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram"
                    title="Instagram">
            </a>
            <a href="mailto:Dusanov.Zlatnik@gmail.com?subject=Poruka%20sa%20zvaniƒçnog%20sajta%20Du≈°anov%20Zlatnik&body=Po≈°tovanje,%0D%0A%0D%0Akontaktiram Vas povodom projekta Du≈°anov Zlatnik. Molim Vas za vi≈°e informacija ili moguƒánost saradnje.%0D%0A%0D%0ASrdaƒçan pozdrav,%0D%0A[Va≈°e ime]"
                target="_blank" rel="noopener noreferrer" title="Po≈°alji email">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/maildotru.svg" alt="Po≈°alji email"
                    title="Po≈°alji email">
            </a>
            <a href="https://t.me/+aLOYL9EVnck1NjBk" target="_blank" rel="noopener noreferrer"
                title="Telegram kanal | obave≈°tenja">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg" alt="Telegram kanal"
                    title="Telegram kanal | obave≈°tenja">
            </a>
            <a href="https://t.me/+27cw4oGMNiQ4N2Q0" target="_blank" rel="noopener noreferrer"
                title="Telegram grupa | zajednica">
                <img src="https://cdn.jsdelivr.net/gh/lucide-icons/lucide/icons/message-circle.svg" alt="Telegram grupa"
                    title="Telegram grupa | zajednica">
            </a>
        </div>

        <div class="footer-note">
            ¬© 2025 Du≈°anov Zlatnik. Sva prava zadr≈æana.
            <div class="legal-links">
                <a href="docs/terms-latin.html" class="bold-link">Uslovi kori≈°ƒáenja</a>
                <a href="docs/disclaimer-latin.html" class="bold-link">Pravna napomena</a>
                <a href="docs/privacy-latin.html" class="bold-link">Politika privatnosti</a>
                <a href="docs/utility-status-latin.html" class="bold-link">Status korisnosti</a>
                <a href="docs/whitepaper-latin.html" class="bold-link">Bela knjiga (Teh. dok.)</a>
            </div>
        </div>

        <!-- Modal za darivanje -->
        <div id="giftModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>≈Ωelim jedan Du≈°anov zlatnik na dar</h2>

                <label class="terms-inline">
                    <input type="checkbox" id="termsCheckbox" />
                    <span>Prihvatam&nbsp;<a href="docs/terms-latin.html" target="_blank">uslove kori≈°ƒáenja</a></span>
                </label>

                <label for="walletInput">Adresa moje digitalne riznice:</label>
                <input type="text" id="walletInput" placeholder="0x..." disabled />
                <button id="sendRequest" disabled>Po≈°alji zahtev</button>
            </div>
        </div>

    </main>


    <script>
        //jezik
        document.querySelectorAll('#language-switcher a').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const lang = this.getAttribute('data-lang');
                if (lang === 'sr') {
                    window.location.href = 'index.html';
                } else if (lang === 'sr-latin') {
                    window.location.href = 'index-latin.html';
                } else if (lang === 'en') {
                    window.location.href = 'index-en.html';
                }
            });
        });


        const giftButton = document.getElementById('giftButton');
        const giftModal = document.getElementById('giftModal');
        const closeBtn = giftModal.querySelector('.close');


        // Otvori modal na klik dugmeta
        giftButton.addEventListener('click', () => {
            giftModal.style.display = 'block';
        });

        // Zatvori modal na klik na X
        closeBtn.addEventListener('click', () => {
            giftModal.style.display = 'none';
        });

        // Opcionalno: zatvori modal klikom van modal-content
        window.addEventListener('click', (e) => {
            if (e.target === giftModal) {
                giftModal.style.display = 'none';
            }
        });


        const logo = document.getElementById("rotating-logo");

        let currentRotation = 0;
        let targetRotation = 0;

        window.addEventListener("scroll", () => {
            const scrollY = window.scrollY;
            targetRotation = (scrollY * 0.6) % 360;
        });

        function animate() {
            currentRotation += (targetRotation - currentRotation) * 0.05;

            const rad = currentRotation * Math.PI / 180;
            const scaleX = Math.abs(Math.cos(rad)) * 0.7 + 0.3;

            logo.style.transform = `rotateY(${currentRotation}deg) scaleX(${scaleX})`;

            requestAnimationFrame(animate);
        }

        animate();


        //checkbox prihvatam uslove
        const termsCheckbox = document.getElementById('termsCheckbox');
        const walletInput = document.getElementById('walletInput');
        const sendRequestButton = document.getElementById('sendRequest');

        // Kada korisnik ƒçekira "Prihvatam uslove", omoguƒái input
        termsCheckbox.addEventListener('change', () => {
            walletInput.disabled = !termsCheckbox.checked;
            validateWallet(); // odmah proverava da li je adresa dobra
        });

        // Kada korisnik unosi adresu, proverava se validnost
        walletInput.addEventListener('input', validateWallet);

        function validateWallet() {
            const address = walletInput.value.trim();
            const isValid = /^0x[a-fA-F0-9]{40}$/.test(address);
            const termsAccepted = termsCheckbox.checked;

            sendRequestButton.disabled = !(isValid && termsAccepted);
        }


        // Slanje adrese na Telegram
        document.getElementById('sendRequest').addEventListener('click', function () {
            const walletAddress = document.getElementById('walletInput').value.trim();

            const isValidWallet = /^0x[a-fA-F0-9]{40}$/.test(walletAddress);

            if (!isValidWallet) {
                alert('–ú–æ–ª–∏–º–æ —É–Ω–µ—Å–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–Ω—É –∞–¥—Ä–µ—Å—É (–ø–æ—á–∏—ö–µ —Å–∞ 0x –∏ —Å–∞–¥—Ä–∂–∏ 42 –∫–∞—Ä–∞–∫—Ç–µ—Ä–∞).');
                return;
            }


            const url = `https://dusanov-api.vercel.app/api/send`;

            fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    address: walletAddress  // ‚úÖ OVO backend tra≈æi
                })
            })
                .then(response => {
                    if (response.ok) {
                        alert('Zahtev je uspe≈°no poslat! ‚úÖ');
                        document.getElementById('walletInput').value = '';
                        document.getElementById('giftModal').style.display = 'none';
                    } else {
                        alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Å–ª–∞—ö—É. –ü–æ–∫—É—à–∞—ò—Ç–µ –ø–æ–Ω–æ–≤–æ.');
                    }
                })
                .catch(error => {
                    alert('–ú—Ä–µ–∂–Ω–∞ –≥—Ä–µ—à–∫–∞: ' + error.message);
                });
        });

    </script>

</body>

</html>