<!DOCTYPE html>
<html lang="sr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">


  <title>Du≈°anov Zlatnik</title>

</head>

<body>
  <header>
    <h1>Du≈°anov Zlatnik</h1>
    <h2>~ a digital testament of our existence ~</h2>
  </header>

  <div id="language-switcher">
    <a href="#" data-lang="sr">—õ–∏—Ä</a> |
    <a href="#" data-lang="sr-latin">lat</a> |
    <a href="#" data-lang="en">eng</a>
  </div>

  <main class="container" role="main">
    <div id="rotating-wrapper">
      <img id="rotating-logo" src="pic/logo_500_tra.png" alt="Rotating Logo" />
    </div>

    <h3>Inspired by the glory of Du≈°an‚Äôs Empire and the spirit of Serbian history,<br /> this token celebrates
      independence, tradition, and the people</h3>

    <h2>üìú What is Du≈°an's Gold Coin?</h2>
    <ul>
      <li>Named after the first Serbian gold currency from the time of <a href="docs/CarDusanSilni.html"
          class="bold-link">Tsar Du≈°an the Mighty</a></li>
      <li>Not for trading. Not for profit. This is a digital testament of our existence</li>
      <li>Minted 11,000,000 Du≈°an‚Äôs Gold Coins ‚Äî one for every Serb, wherever they may be</li>
      <li>The coins are tirelessly guarded by the first Serbian digital knight in a treasury known as MetaMask. You can
        reach the treasury <a href="docs/Uputstvo.html" class="bold-link">through this path</a></li>
    </ul>

    <h2>ü™ô What does it cost?</h2>
    <ul>
      <li>If you wish to carry part of the burden through purchase, the price is one hundred Serbian dinars</li>
      <li>If you cannot afford it, you will receive it as a gift ‚Äî for one belongs to everyone</li>
      <li>The price is symbolic, not market-based</li>
    </ul>

    <h2>üõ°Ô∏è What to do with the coin?</h2>
    <ul>
      <li>Once enough Serbian knights have gathered, we will call a <a href="https://t.me/+27cw4oGMNiQ4N2Q0"
          class="bold-link" target="_blank" rel="noopener noreferrer">council</a> to discuss liquidity and listing the
        coin on an exchange</li>
      <li>Every month, a portion of the proceeds will be documented and directed toward the restoration of Serbian
        sacred sites</li>
      <li>Each coin, whether purchased or gifted, will be marked on a map in color ‚Äî as a symbol of the spread of
        Du≈°an‚Äôs Empire</li>
    </ul>

    <img src="pic/svet_2.png" alt="Du≈°an's Empire"
      style="max-width: 100%; height: auto; display: block; margin: 0 auto;">

    <div class="cta">
      <button id="buy" class="cta-mail">Buy a Coin</button>
      <button id="giftButton" class="cta-mail">Claim a Free Coin</button>
    </div>

    <div class="social-icons">
      <a href="https://linkedin.com/company/dusanov-zlatnik" target="_blank" rel="noopener noreferrer" title="LinkedIn">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/linkedin.svg" alt="LinkedIn"
          title="LinkedIn">
      </a>
      <a href="https://www.instagram.com/dusanovzlatnik/" target="_blank" rel="noopener noreferrer" title="Instagram">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram"
          title="Instagram">
      </a>
      <a href="mailto:Dusanov.Zlatnik@gmail.com?subject=Message%20from%20Du≈°an's%20Gold%20Coin%20Official%20Website&body=Hello,%0D%0A%0D%0AI am contacting you regarding the Du≈°an's Gold Coin project. Please provide more information or potential collaboration.%0D%0A%0D%0ABest regards,%0D%0A[Your Name]"
        target="_blank" rel="noopener noreferrer" title="Send Email">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/maildotru.svg" alt="Send Email"
          title="Send Email">
      </a>
      <a href="https://t.me/+aLOYL9EVnck1NjBk" target="_blank" rel="noopener noreferrer"
        title="Telegram Channel | Announcements">
        <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg" alt="Telegram Channel"
          title="Telegram Channel | Announcements">
      </a>
      <a href="https://t.me/+27cw4oGMNiQ4N2Q0" target="_blank" rel="noopener noreferrer"
        title="Telegram Group | Community">
        <img src="https://cdn.jsdelivr.net/gh/lucide-icons/lucide/icons/message-circle.svg" alt="Telegram Group"
          title="Telegram Group | Community">
      </a>
    </div>

    <div class="footer-note">
      ¬© 2025 Du≈°anov Zlatnik. All rights reserved.
      <div class="legal-links">
        <a href="docs/terms.html" class="bold-link">Terms of Use</a>
        <a href="docs/disclaimer.html" class="bold-link">Legal Disclaimer</a>
        <a href="docs/privacy.html" class="bold-link">Privacy Policy</a>
        <a href="docs/utility-status.html" class="bold-link">Utility Status</a>
        <a href="docs/whitepaper-en.html" class="bold-link">Whitepaper (Tech Doc)</a>
      </div>
    </div>

    <!-- Modal for claiming a free coin -->
    <div id="giftModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>I wish to claim one Du≈°an's Gold Coin</h2>

        <label class="terms-inline">
          <input type="checkbox" id="termsCheckbox" />
          <span>I accept the&nbsp;<a href="docs/terms.html" target="_blank">terms of use</a></span>
        </label>

        <label for="walletInput">My digital vault address:</label>
        <input type="text" id="walletInput" placeholder="0x..." disabled />
        <button id="sendRequest" disabled>Submit Request</button>
      </div>
    </div>

  </main>


  <script>
    //jezik
    document.querySelectorAll('#language-switcher a').forEach(link => {
      link.addEventListener('click', function (e) {
        e.preventDefault();
        const lang = this.getAttribute('data-lang');
        if (lang === 'sr') {
          window.location.href = 'index.html';
        } else if (lang === 'sr-latin') {
          window.location.href = 'index-latin.html';
        } else if (lang === 'en') {
          window.location.href = 'index-en.html';
        }
      });
    });


    const giftButton = document.getElementById('giftButton');
    const giftModal = document.getElementById('giftModal');
    const closeBtn = giftModal.querySelector('.close');


    // Otvori modal na klik dugmeta
    giftButton.addEventListener('click', () => {
      giftModal.style.display = 'block';
    });

    // Zatvori modal na klik na X
    closeBtn.addEventListener('click', () => {
      giftModal.style.display = 'none';
    });

    // Opcionalno: zatvori modal klikom van modal-content
    window.addEventListener('click', (e) => {
      if (e.target === giftModal) {
        giftModal.style.display = 'none';
      }
    });


    const logo = document.getElementById("rotating-logo");

    let currentRotation = 0;
    let targetRotation = 0;

    window.addEventListener("scroll", () => {
      const scrollY = window.scrollY;
      targetRotation = (scrollY * 0.6) % 360;
    });

    function animate() {
      currentRotation += (targetRotation - currentRotation) * 0.05;

      const rad = currentRotation * Math.PI / 180;
      const scaleX = Math.abs(Math.cos(rad)) * 0.7 + 0.3;

      logo.style.transform = `rotateY(${currentRotation}deg) scaleX(${scaleX})`;

      requestAnimationFrame(animate);
    }

    animate();


    //checkbox prihvatam uslove
    const termsCheckbox = document.getElementById('termsCheckbox');
    const walletInput = document.getElementById('walletInput');
    const sendRequestButton = document.getElementById('sendRequest');

    // Kada korisnik ƒçekira "Prihvatam uslove", omoguƒái input
    termsCheckbox.addEventListener('change', () => {
      walletInput.disabled = !termsCheckbox.checked;
      validateWallet(); // odmah proverava da li je adresa dobra
    });

    // Kada korisnik unosi adresu, proverava se validnost
    walletInput.addEventListener('input', validateWallet);

    function validateWallet() {
      const address = walletInput.value.trim();
      const isValid = /^0x[a-fA-F0-9]{40}$/.test(address);
      const termsAccepted = termsCheckbox.checked;

      sendRequestButton.disabled = !(isValid && termsAccepted);
    }


    // Slanje adrese na Telegram
    document.getElementById('sendRequest').addEventListener('click', function () {
      const walletAddress = document.getElementById('walletInput').value.trim();

      const isValidWallet = /^0x[a-fA-F0-9]{40}$/.test(walletAddress);

      if (!isValidWallet) {
        alert('–ú–æ–ª–∏–º–æ —É–Ω–µ—Å–∏—Ç–µ –∏—Å–ø—Ä–∞–≤–Ω—É –∞–¥—Ä–µ—Å—É (–ø–æ—á–∏—ö–µ —Å–∞ 0x –∏ —Å–∞–¥—Ä–∂–∏ 42 –∫–∞—Ä–∞–∫—Ç–µ—Ä–∞).');
        return;
      }


      const url = `https://dusanov-api.vercel.app/api/send`;

      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          address: walletAddress  // ‚úÖ OVO backend tra≈æi
        })
      })
        .then(response => {
          if (response.ok) {
            alert('Request has been successfully submitted! ‚úÖ');
            document.getElementById('walletInput').value = '';
            document.getElementById('giftModal').style.display = 'none';
          } else {
            alert('–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Å–ª–∞—ö—É. –ü–æ–∫—É—à–∞—ò—Ç–µ –ø–æ–Ω–æ–≤–æ.');
          }
        })
        .catch(error => {
          alert('–ú—Ä–µ–∂–Ω–∞ –≥—Ä–µ—à–∫–∞: ' + error.message);
        });
    });

  </script>

</body>

</html>